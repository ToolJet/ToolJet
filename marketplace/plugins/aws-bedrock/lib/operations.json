{
  "$schema": "https://raw.githubusercontent.com/ToolJet/ToolJet/develop/plugins/schemas/operations.schema.json",
  "title": "AWS Bedrock datasource",
  "description": "A schema defining AWS Bedrock datasource",
  "type": "api",
  "defaults": {
    "content_type": "application/json"
  },
  "properties": {
    "operation": {
      "label": "Operation",
      "key": "operation",
      "type": "dropdown-component-flip",
      "description": "Single select dropdown for operation",
      "list": [
        { "value": "generate_content", "name": "Generate content" },
        { "value": "list_foundation_models", "name": "List foundation models" }
      ]
    },
    "generate_content": {
      "model_id": {
        "label": "Model ID",
        "key": "model_id",
        "type": "codehinter",
        "description": "The foundation model ID to use",
        "className": "codehinter-plugins",
        "placeholder": "amazon.titan-text-express-v1",
        "helpText":"The foundation model ID to use"
      },
      "request_body": {
        "label": "Request Body",
        "key": "request_body",
        "type": "codehinter",
        "description": "JSON body for the invoke model request",
        "className": "codehinter-plugins",
          "placeholder": "{\n  \"inputText\": \"Create an email for my client named {{components.table1.data[0].firstName}} about his issue: {{components.table1.data[0].issue}}\",\n  \"textGenerationConfig\": {\n    \"temperature\": 0.7,\n    \"topP\": 0.1,\n    \"maxTokenCount\": 256,\n    \"stopSequences\": [\"spam\", \"conflict\"]\n  }\n}",
        "height": "150px",
        "editorType": "extendedSingleLine"
      },
      "content_type": {
        "label": "Content-Type",
        "key": "content_type",
        "type": "codehinter",
        "description": "Content type of the request body",
        "className": "codehinter-plugins",
        "placeholder": "application/json",
        "helpText":"The content type of the request body"
      }
    },
    "list_foundation_models": {
      "customization_type": {
        "label": "Customization Type",
        "key": "customization_type",
        "type": "dropdown-component-flip",
        "description": "Customization type filter (optional)",
        "list": [
          {"value": "FINE_TUNING", "name": "Fine Tuning"},
          {"value": "CONTINUED_PRE_TRAINING", "name": "Continued Pre-Training"},
          {"value": "DISTILLATION", "name": "Distillation"}
        ]
      },
      "inference_type": {
        "label": "Inference Type",
        "key": "inference_type",
        "type": "dropdown-component-flip",
        "description": "Inference type filter (optional)",
        "list": [
          {"value": "ON_DEMAND", "name": "On Demand"},
          {"value": "PROVISIONED", "name": "Provisioned"}
        ]
      },
      "output_modality": {
        "label": "Output Modality",
        "key": "output_modality",
        "type": "dropdown-component-flip",
        "description": "Output modality filter (optional)",
        "list": [
          {"value": "TEXT", "name": "Text"},
          {"value": "IMAGE", "name": "Image"},
          {"value": "EMBEDDING", "name": "Embedding"}
        ]
      },
      "provider": {
        "label": "Provider",
        "key": "provider",
        "type": "codehinter",
        "description": "Provider filter (optional)",
        "className": "codehinter-plugins",
        "placeholder": "^[A-Za-z0-9- ]{1,63}$"
      }
    }
  }
}
