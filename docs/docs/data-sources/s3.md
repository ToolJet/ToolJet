---
id: s3
title: Amazon S3
---

ToolJet can connect to **Amazon S3** buckets and perform various operations on them.

<div style={{paddingTop:'24px'}}>

## Connection

To establish a connection with the **Amazon S3** data source, you can either click on the **+ Add new Data source** button located on the query panel or navigate to the **[Data Sources](/docs/data-sources/overview/)** page from the ToolJet dashboard.

ToolJet supports connecting to AWS S3 using **IAM Access Keys**, **AWS Instance Credentials** or **AWS ARN Role**. 

If you are using **IAM Access Keys**, you will need to provide the following details:

- **Region**
- **Access key**
- **Secret key**

**Note:** It is recommended to create a new IAM user for the database so that you can control the access levels of ToolJet.

<img className="screenshot-full" src="/img/datasource-reference/aws-s3/iamnew.png" alt="aws s3 modal" />

To connect to AWS S3 using **AWS Instance Credentials**, select the **Use AWS Instance Credentials**. This will use the IAM role attached to the EC2 instance where ToolJet is running.

To access the metadata service of an ECS container and the EC2 instance, we use the WebIdentityToken parameter which is obtained from a successful login with an identity provider.

<img className="screenshot-full" src="/img/datasource-reference/aws-s3/instanew.png" alt="aws s3 modal" />

If you are using **AWS ARN Role**, you will need to provide the following details:

- **Region**
- **Role ARN**

<img className="screenshot-full" src="/img/datasource-reference/aws-s3/arnnew.png" alt="aws s3 modal" />

:::tip
You can now connect to **[different S3 Hosts using custom endpoints](/docs/how-to/s3-custom-endpoints)**.
:::

</div>

<div style={{paddingTop:'24px'}}>

## Querying AWS S3

1. Click on **+ Add** button of the query manager at the bottom panel of the editor.
2. Select the **Amazon AWS S3** datasource added in previous step.
3. Select the desired operation from the dropdown and enter the required parameters.
4. Click on the **Preview** button to preview the output or Click on the **Run** button to trigger the query.

:::info
Query results can be transformed using transformations. Read our [transformations documentation](/docs/tutorial/transformations).
:::

</div>

<div style={{paddingTop:'24px'}}>

## Supported Operations

You can create query for AWS S3 data source to perform several actions such as:
- **[Create a new bucket](#create-a-new-bucket)**
- **[Read object](#read-object)**
- **[Upload object](#upload-object)**
- **[Remove object](#remove-object)**
- **[List buckets](#list-buckets)**
- **[List objects in a bucket](#list-objects-in-a-bucket)**
- **[Signed URL for download](#signed-url-for-download)**  
- **[Signed URL for upload](#signed-url-for-upload)** 

### Create a New Bucket

You can create a new bucket in your S3 by using this operation. 

#### Required Parameters

- **Bucket Name**

<img className="screenshot-full" src="/img/datasource-reference/aws-s3/createbucket-v2.png" alt="Create a new bucket - S3 operation" />

<details>
<summary>**Example Values**</summary>

```yaml
Bucket Name: tooljet-docs
```
</details>

<details>
<summary>**Example Response**</summary>

```json
{
  "$metadata": {
    "httpStatusCode": 200,
    "requestId": "JKCTJEH28MYJKQ4S",
    "extendedRequestId": "m9gkP54rHE+nWzbIiXR7PktxRodKBS7tp/I1EYRsobcduK9AnxvecCI/EYCwOwH9DTVsgWUNKCk=",
    "attempts": 1,
    "totalRetryDelay": 0
  },
  "Location": "http://tooljet-docs.s3.amazonaws.com/"
}
```
</details>

### Read Object

You can read an object in a bucket by using this operation. 

#### Required Parameters

- **Bucket**
- **Key**

<img style={{marginBottom:'15px'}} className="screenshot-full" src="/img/datasource-reference/aws-s3/readobj-v2.png" alt="aws s3 read object" />

<details>
<summary>**Example Values**</summary>

```yaml
Bucket: tooljet-docs
Key: /project/json/sample.json
```
</details>

<details>
<summary>**Example Response**</summary>

```json
{
  "$metadata": {
    "httpStatusCode": 200,
    "requestId": "FEVBHSE9SJH0QC6N",
    "extendedRequestId": "spE+ukgUMZEdkyFpu38wZnXqMxwj1dipn7nlLZHBdkQ2mV+OlVxIMIJBPnrIW56DK5QCbEqpx/0=",
    "attempts": 1,
    "totalRetryDelay": 0
  },
  "AcceptRanges": "bytes",
  "LastModified": "2025-03-12T11:24:59.000Z",
  "ContentLength": 60,
  "ETag": "\"90a73cef2ec200ac4119fc06073f18e8\"",
  "ContentEncoding": "utf8",
  "ContentType": "application/octet-stream",
  "ServerSideEncryption": "AES256",
  "Metadata": {},
  "Body": "{\n \"name\": \"John Doe\",\n \"age\": 30,\n \"city\": \"New York\"\n}\n"
}
```
</details>


### Upload Object

You can use this operation to upload objects(files) to your S3 bucket. 

#### Required Parameters

- **Bucket**
- **Key**
- **Content Type**
- **Upload data**

<img className="screenshot-full" src="/img/datasource-reference/aws-s3/uploadobj-v2.png"  alt="aws s3 upload"/>

<details>
<summary>**Example Values**</summary>

```yaml
Bucket: tooljet-docs
Key: /project/json/sample.json
Upload data: {
  "name": "John Doe",
  "age": 30,
  "city": "New York"
}

```
</details>

<details>
<summary>**Example Response**</summary>

```json
{
  "$metadata": {
    "httpStatusCode": 200,
    "requestId": "AJD5SPWG2SS2GT23",
    "extendedRequestId": "s2XyBxWwK3H5hMZapE0DfTnVLZcmTh2ji2k7V3FXltpW0w1x5ncxtCUpV94qJJCkBCj9TqjnaGI=",
    "attempts": 1,
    "totalRetryDelay": 0
  },
  "ETag": "\"90a73cef2ec200ac4119fc06073f18e8\"",
  "ServerSideEncryption": "AES256"
}
```
</details>

### Remove Object

You can use this operation to remove an object from your S3 bucket. 

#### Required Parameters

- **Bucket**
- **Key**

<img className="screenshot-full" src="/img/datasource-reference/aws-s3/removeobj-v2.png" alt="Create a new bucket - S3 operation" />

<details>
<summary>**Example Values**</summary>

```yaml
Bucket: tooljet-docs
Key: /project/json/sample.json
```
</details>

<details>
<summary>**Example Response**</summary>

```json
{
  "$metadata": {
    "httpStatusCode": 204,
    "requestId": "9N8WWK3P584Y1N2W",
    "extendedRequestId": "t+HensDUkvgCWO/5CiRTeNVhoiCmbhArvsXckXnncQZra8OwvLDT05u/krWCYFLnZY4hBlaaPCQ=",
    "attempts": 1,
    "totalRetryDelay": 0
  }
}
```
</details>

### List Buckets

This operation will list all the buckets in your S3. This does not require any parameter.

<img className="screenshot-full" src="/img/datasource-reference/aws-s3/listbuckets-v2.png" alt="aws s3 bucket" />

<details>
<summary>**Example Response**</summary>

```json
{
  "$metadata": {
    "httpStatusCode": 200,
    "requestId": "4T69FPY1VFZATJP2",
    "extendedRequestId": "qMOQYo8VHYskGOK8AYxPLKkFlBRvpw5YF4hh4SXM1D7ZKzHJENxQT8ZvRLFPnMDJSMhRLt+4V4Y=",
    "attempts": 1,
    "totalRetryDelay": 0
  },
  "Buckets": [
    {
      "Name": "datasource-testing",
      "CreationDate": "2024-12-18T05:30:35.000Z"
    },
    {
      "Name": "datasource-testing-001",
      "CreationDate": "2024-11-12T17:38:06.000Z"
    },
    {
      "Name": "new-test-tooljet",
      "CreationDate": "2024-11-10T02:21:47.000Z"
    },
    {
      "Name": "tooljet-deployments",
      "CreationDate": "2024-11-10T11:38:10.000Z"
    },
    {
      "Name": "tooljet-docs",
      "CreationDate": "2025-03-12T11:16:45.000Z"
    },
    {
      "Name": "tooljet-test",
      "CreationDate": "2024-12-17T19:40:38.000Z"
    }
  ],
  "Owner": {
    "DisplayName": "admin",
    "ID": "cb409d9a49dc69ab2e3bea109d890375fe4755a099210b6a0689ff9e6cb0b132"
  }
}
```
</details>

### List Objects in a Bucket

This operation will fetch the list of all the files in your bucket. It requires the following parameters:

#### Required Parameters

- **Bucket**

#### Optional Parameters

- **Prefix**
- **Max keys**
- **Offset**
- **Next Continuation Token**


:::info
**Next Continuation Token** <br/>
For listing a bucket for objects that begin with a specific character or a prefix, then use the **Offset** parameter. For example, if you want to list all the objects that begin with **a**, then set the **Offset** parameter to **a**. Similarly, if you want to list all the objects that begin with **ab**, then set the **Offset** parameter to **ab**. <br/>
The **Next Continuation Token** is used to list the next set of objects in a bucket. It is returned by the API when the response is truncated. The results will contain **Next Continuation Token** if there are more keys in the bucket that satisfy the list query. To get the next set of objects, set the **Next Continuation Token** parameter and run the query again. <br/>
The results will continue from where the last listing finished.
:::

<img className="screenshot-full" src="/img/datasource-reference/aws-s3/listobjects-v2.png" alt="aws s3 list object" />

<details>
<summary>**Example Values**</summary>

```yaml
Bucket: tooljet-docs
Max Keys: 1000
```
</details>

<details>
<summary>**Example Response**</summary>

```json
{
  "$metadata": {
    "httpStatusCode": 200,
    "requestId": "14BVHG5Z9YBAW825",
    "extendedRequestId": "341rct8f+K/9K07rIiBRxv30jS/uXWeCKZq5rsN7Ek27c6LeZ/JJEeEhqvR/RoywblttbPkR7s0=",
    "attempts": 1,
    "totalRetryDelay": 0
  },
  "Contents": [
    {
      "Key": "/project/json/sample.json",
      "LastModified": "2025-03-12T11:39:46.000Z",
      "ETag": "\"90a73cef2ec200ac4119fc06073f18e8\"",
      "ChecksumAlgorithm": [
        "CRC64NVME"
      ],
      "Size": 60,
      "StorageClass": "STANDARD"
    }
  ],
  "IsTruncated": false,
  "KeyCount": 1,
  "MaxKeys": 1000,
  "Name": "tooljet-docs",
  "Prefix": ""
}
```
</details>

### Signed URL for Download

The object owner can optionally share objects with others by creating a presigned URL, using their own security credentials, to grant time-limited permission to download the objects. 

#### Required Parameters

- **Bucket**
- **Key**
- **Expires in**

<img className="screenshot-full" src="/img/datasource-reference/aws-s3/urldownload-v2.png" alt="aws s3 signed download" />

<details>
<summary>**Example Values**</summary>

```yaml
Bucket: tooljet-docs
Key: /project/json/sample.json
Expires In: 3600
```
</details>

<details>
<summary>**Example Response**</summary>

```json
{
  "url": "https://tooljet-docs.s3.us-west-1.amazonaws.com//project/json/sample.json?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIATFA53SDS6E4F7NHW%2F20250312%2Fus-west-1%2Fs3%2Faws4_request&X-Amz-Date=20250312T114259Z&X-Amz-Expires=3600&X-Amz-Signature=5b02b179445a89f1f526a121b9fa255c8c53fbe77d12ab65a128b7036f24e17e&X-Amz-SignedHeaders=host&x-id=GetObject"
}
```
</details>


### Signed URL for Upload

The presigned URLs are useful if you want your user/customer to be able to upload a specific object to your bucket, but you don't require them to have AWS security credentials or permissions. 

#### Required Parameters

- **Bucket**
- **Key**
- **Expires in**
- **Content Type**

<img className="screenshot-full" src="/img/datasource-reference/aws-s3/urlupload-v2.png" alt="aws s3 signed upload" />

<details>
<summary>**Example Values**</summary>

```yaml
Bucket: tooljet-docs
Key: /project/json/sample.json
Expires In: 3600
```
</details>

<details>
<summary>**Example Response**</summary>

```json
{
  "url": "https://tooljet-docs.s3.us-west-1.amazonaws.com//project/json/sample.json?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIATFA53SDS6E4F7NHW%2F20250312%2Fus-west-1%2Fs3%2Faws4_request&X-Amz-Date=20250312T115341Z&X-Amz-Expires=3600&X-Amz-Signature=83f2e3c7ec68dda15e20cb8d78e3f42019310e3bfeff05a726b7688b41dda1e8&X-Amz-SignedHeaders=host&x-id=PutObject"
}
```
</details>

:::info
We built an app to view and upload files to AWS S3 buckets. Check out the complete tutorial **[here](https://blog.tooljet.ai/build-an-aws-s3-broswer-with-tooljet/)**.
:::

</div>